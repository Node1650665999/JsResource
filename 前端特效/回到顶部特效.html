<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
	<title>Javascript 返回顶部</title>
	<style type="text/css">
		#btn {width:40px; display: none;height:40px; position:fixed; right:10px; bottom:10px; background:url(./img/top_bg.png) no-repeat left top;}
		#btn:hover {background:url(./img/top_bg.png) no-repeat 0 -39px;}
		.bg {width:1190px; margin:0 auto;}
	</style>
	
</head>
<body>
	<a href="javascript:;" id="btn" title="回到顶部"></a>
	<div class="bg">
		<img src="img/tb_bg.jpg" alt="" />
	</div>
	<script type="text/javascript">
	window.onload = function(){
    var obtn = document.getElementById('btn');
	//获取页面可视区的高度
     var clientHeight=document.documentElement.clientHeight||document.body.clientHeight;
	var timer = null;
	var isTop = true;
	window.onscroll = function(){
		//显示影藏按钮
		var osTop = document.documentElement.scrollTop || document.body.scrollTop;
		if (osTop > clientHeight) {
			obtn.style.display = "block";
		}else{
			obtn.style.display = "none";
		}
		if(!isTop){
			clearInterval(timer);
		}
		isTop = false;
	}
	obtn.onclick = function(){
		timer =setInterval(function(){
			var  osTop = document.documentElement.scrollTop || document.body.scrollTop;
      		var  speed = Math.ceil(osTop/6);
			isTop = true;			
      		document.documentElement.scrollTop=document.body.scrollTop =  osTop-speed;
      		if (osTop == 0) {
      			clearInterval(timer);
      		}
		},30);
      
	}
	
}
	</script>
</body>
</html>